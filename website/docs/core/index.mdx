---
title: "@lumenize/core"
description: Foundational utilities for Durable Objects - small, focused, essential
---

# @lumenize/core

A de✨light✨ful collection of foundational utilities for building Durable Objects applications.

## Philosophy

Core is home to **small, essential utilities** that provide fundamental building blocks for Durable Objects. Each utility is:

- **Tiny** - Typically 10-50 lines of code
- **Focused** - Does one thing well
- **Zero or minimal dependencies** - Keeps your bundle small
- **Tree-shakeable** - Import only what you need
- **NADIS-compatible** - Works standalone or auto-injected via `LumenizeBase`

### What Belongs in Core?

Utilities that are:
- ✅ Small implementation (< 50 SLOC)
- ✅ Fundamental building blocks
- ✅ Stateless or minimal state
- ✅ Broadly useful across many DOs

### When to Create a Separate Package

Create a dedicated package when a feature:
- ❌ Exceeds ~100 lines of code
- ❌ Has complex state management (like Alarms with its persistence table)
- ❌ Requires its own configuration options
- ❌ Provides a complete subsystem

**Examples of separate packages:** [`@lumenize/alarms`](/docs/alarms/), [`@lumenize/rpc`](/docs/rpc/introduction)

## Available Utilities

### [SQL Template Literal](/docs/core/sql)

Type-safe SQL queries with automatic parameter binding. ~10 lines of code.

```typescript @skip-check
import { sql } from '@lumenize/core';

class MyDO extends DurableObject {
  #sql = sql(this);
  
  getUser(id: string) {
    return this.#sql`SELECT * FROM users WHERE id = ${id}`[0];
  }
}
```

**[→ Full SQL Documentation](/docs/core/sql)**

## Installation

```bash @skip-check
npm install @lumenize/core
```

## Usage Patterns

### Standalone Usage

Import and use utilities directly in your Durable Objects:

```typescript @skip-check
import { sql } from '@lumenize/core';

class ProductDO extends DurableObject {
  #sql = sql(this);
  // Use directly
}
```

### With LumenizeBase (Auto-Injected)

Import for side-effect registration, then access via `this.svc`:

```typescript @skip-check
import '@lumenize/core';  // Registers utilities in NADIS
import { LumenizeBase } from '@lumenize/lumenize-base';

class ProductDO extends LumenizeBase<any> {
  getProduct(id: string) {
    return this.svc.sql`SELECT * FROM products WHERE id = ${id}`[0];
  }
}
```

See [@lumenize/lumenize-base documentation](/docs/lumenize-base) for complete NADIS examples.

## Design Principles

1. **Minimal abstraction** - Thin wrappers that enhance, not hide, Cloudflare APIs
2. **Zero runtime cost** - No performance penalty over raw APIs
3. **Type-safe** - Full TypeScript support with proper inference
4. **Composable** - Mix and match utilities as needed

## See Also

- [@lumenize/lumenize-base](/docs/lumenize-base) - Auto-injection via NADIS
- [@lumenize/alarms](/docs/alarms) - Alarm scheduling (uses SQL from core)
- [Cloudflare Durable Objects](https://developers.cloudflare.com/durable-objects/) - Official docs

