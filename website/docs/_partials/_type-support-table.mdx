| Type | Workers RPC | DO Storage | Cap'n Web | Lumenize | Notes |
|------|-------------|------------|-----------|----------|-------|
| **Cycles & Aliases** | ✅→❌ | ✅→❌ | ❌ | ✅ | Cap'n Web throws error<br />[Cloudflare plans to remove](https://github.com/cloudflare/capnweb/tree/main#cloudflare-workers-rpc-interoperability) |
| **Primitives** | | | | | |
| undefined | ✅ | ✅ | ✅ | ✅ | |
| null | ✅ | ✅ | ✅ | ✅ | |
| **Special Numbers** | | | | | |
| NaN | ✅ | ✅ | ❌→✅ | ✅ | Cap'n Web returns null |
| Infinity | ✅ | ✅ | ❌→✅ | ✅ | Cap'n Web returns null |
| -Infinity | ✅ | ✅ | ❌→✅ | ✅ | Cap'n Web returns null |
| **Built-in Types** | | | | | |
| BigInt | ✅ | ✅ | ✅ | ✅ | |
| Date | ✅ | ✅ | ✅ | ✅ | |
| RegExp | ✅ | ✅ | ❌→✅ | ✅ | |
| Map | ✅⚠️ | ✅⚠️ | ❌→✅ | ✅⚠️ | Object keys lose identity |
| Set | ✅⚠️ | ✅⚠️ | ❌→✅ | ✅⚠️ | Object values lose identity |
| ArrayBuffer | ✅ | ✅ | ❌→✅ | ✅ | |
| Uint8Array | ✅ | ✅ | ✅ | ✅ | |
| **Errors** | | | | | |
| Error (thrown) | ✅ | N/A | ⚠️ | ✅ | Cap'n Web loses name and remote stack |
| Error (value) | ✅ | ⚠️ | ⚠️→✅ | ✅ | Cap'n Web loses name and remote stack |
| **Web API Types** | | | | | |
| Request | ✅ | ❌ | ❌ | ✅ | |
| Response | ✅ | ❌ | ❌ | ✅ | |
| Headers | ✅ | ✅ | ❌→✅ | ✅ | Cap'n Web: type annotation only, no serialization |
| URL | ❌ | ❌ | ❌→✅ | ✅ | |
| **Streams** | | | | | |
| ReadableStream | ✅ | ❌ | ❌ | ❌ | Cap'n Web: "may be added" |
| WritableStream | ✅ | ❌ | ❌ | ❌ | Lumenize: "just use WebSockets" |

**Notes:**

- We use ❌→✅ or ⚠️→✅ in the Cap'n Web column for certain rows because we have submitted a [pull request to upgrade Cap'n Web's type support](https://github.com/cloudflare/capnweb/pull/99).

- **⚠️ Map/Set with Object Keys/Values:** While `Map` and `Set` are fully supported, using objects as Map keys or Set values requires special handling. After serialization/deserialization, object keys/values lose their identity and must be accessed via the reconstructed objects. See [Map and Set Behavior](/docs/structured-clone/maps-and-sets) for details and patterns.
