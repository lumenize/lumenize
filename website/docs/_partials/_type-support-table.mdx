| Type | Workers RPC | DO Storage | Cap'n Web | Lumenize | Notes |
|------|-------------|------------|-----------|----------|-------|
| **Cycles & Aliases** | ✅→❌ | ✅→❌ | ❌ | ✅ | Cap'n Web throws error<br />[Cloudflare plans to remove](https://github.com/cloudflare/capnweb/tree/main#cloudflare-workers-rpc-interoperability) |
| **Primitives** | | | | | |
| undefined | ✅ | ✅ | ✅ | ✅ | |
| null | ✅ | ✅ | ✅ | ✅ | |
| **Special Numbers** | | | | | |
| NaN | ✅ | ✅ | ✅ | ✅ | |
| Infinity | ✅ | ✅ | ✅ | ✅ | |
| -Infinity | ✅ | ✅ | ✅ | ✅ | |
| **Built-in Types** | | | | | |
| BigInt | ✅ | ✅ | ✅ | ✅ | |
| Date | ✅ | ✅ | ✅ | ✅ | |
| RegExp | ✅ | ✅ | ❌ | ✅ | |
| Map | ✅⚠️ | ✅⚠️ | ❌ | ✅⚠️ | Object keys lose identity |
| Set | ✅⚠️ | ✅⚠️ | ❌ | ✅⚠️ | Object values lose identity |
| ArrayBuffer | ✅ | ✅ | ❌ | ✅ | |
| Uint8Array | ✅ | ✅ | ✅ | ✅ | |
| **Errors** | | | | | |
| Error (thrown) | ✅ | N/A | ⚠️ | ✅ | Cap'n Web loses name and remote stack |
| Error (value) | ✅ | ⚠️ | ⚠️ | ✅ | Cap'n Web loses name and remote stack |
| **Web API Types** | | | | | |
| Request | ✅ | ❌ | ❌ | ✅ | |
| Response | ✅ | ❌ | ❌ | ✅ | |
| Headers | ✅ | ✅ | ❌ | ✅ | Cap'n Web: type annotation only, no serialization |
| URL | ❌ | ❌ | ❌ | ✅ | |
| **Streams** | | | | | |
| ReadableStream | ✅ | ❌ | ❌ | ❌ | Cap'n Web: "may be added" |
| WritableStream | ✅ | ❌ | ❌ | ❌ | Lumenize: "just use WebSockets" |

**Notes:**

- **⚠️ Map/Set with Object Keys/Values:** While `Map` and `Set` are fully supported, object identity behavior depends on serialization boundaries:
  - **Identity preserved**: Within a single RPC call (Workers RPC, `@lumenize/rpc`) or single `stringify()`/`parse()` cycle
  - **Identity lost**: Across separate storage operations (DO Storage `put()`/`get()`)
  
  See [Map and Set Behavior](/docs/structured-clone/maps-and-sets) for detailed explanation and patterns.
