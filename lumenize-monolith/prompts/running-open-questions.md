- [ ] Specify what the client should do if it ever gets an error indicating that it was trying to do an upsert for something other than the latest version of an entity type. I think it should do some reinitialization. Alternatively/additionally, maybe we should have a notification that tells the client to reinitialize.
- [ ] We probably need DO instances at the universe, galaxy, and star levels.
- [ ] Entity types might be best managed at the galaxy level.
- [ ] We need documentation for what the levels mean. Universe is a company that has 1 or more SaaS applications. Galaxy is a single SaaS application. Star is an instance of a SaaS application (for example, a customer of the SaaS application).
- [ ] We're switching to indexdb for the cache manager and having each tab maintain their own connection. This makes me think that we can't use the sessionId as the subscription id on the server side. Need to schedule that work to change that. We also need to update it to not notify the client that called upsert, since it already has the data.
- [ ] We also have to upgrade the server for patch-based subscriptions so it accepts an initialBaseline parameter. Right now it accepts a baseline parameter but it doesn't do anything with it. Change that to initialBaseline and have the subscriptionResponse include the patch from that initialBaseline to the current version. Right now, the responses to subscriptions are empty and the server immediately sends a notifications/resources/updated notification... at least that's how it works for the full entity subscriptions. Not sure how it works for patch-based subscriptions.